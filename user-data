#cloud-config
# Ubuntu Autoinstall Configuration
# Default password is 'password' - CHANGE THIS for production use!

autoinstall:
  version: 1
  locale: en_US.UTF-8
  keyboard:
    layout: us
    variant: ""
  
  # User account configuration
  identity:
    hostname: ubuntu-server
    realname: "Administrator" 
    username: admin
    password: "$6$rounds=4096$saltsalt$3xvH1iSLskeSMc.1sX7w8.q8qWd7sNOZp9cdvl1DWBfq4LE2/.6MmP4wKu4X3P3WvZd1C.5M7CZNxjOxJzE2T1"  # password: password
  
  ssh:
    install-server: true

  # Automatic LVM storage layout
  storage:
    layout:
      name: lvm
      match:
        path: /dev/nvme0n1

  packages:
    - openssh-server
    - curl
    - git

  shutdown: reboot

# Cloud-init user configuration
user-data:
  users:
    - name: admin
      sudo: ALL=(ALL) NOPASSWD:ALL